(this["webpackJsonpcitation-networks"]=this["webpackJsonpcitation-networks"]||[]).push([[0],{146:function(t,e,a){},147:function(t,e,a){},148:function(t,e,a){},149:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(57),i=a.n(r),s=a(38),o=a(3),u=a(13),l=a(61),j=a(7),h=a(157),d=a(152),b=a(59),f=a(153),O=a(154),p=a(8),m=a.n(p),v=a(18),x=a(22),g=a(5),N=a(159),y=a(151),k=a(58),w=a(158),S=a(160),C=a(60),I=function(t,e){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,c="x"===e?a:n;return Math.max(20,Math.min(c-20,t[e]))}},B=function(t,e,a,n){return function(){e.attr("x1",(function(t){return I(t.source,"x")(a,n)})).attr("y1",(function(t){return I(t.source,"y")(a,n)})).attr("x2",(function(t){return I(t.target,"x")(a,n)})).attr("y2",(function(t){return I(t.target,"y")(a,n)})),t.attr("transform",(function(t){return"translate("+I(t,"x")(a,n)+","+I(t,"y")(a,n)+")"}))}},M=function(t){return[function(e){return e.append(t)},function(t){return t},function(t){return t.remove()}]},E=function(t,e){return g.i().domain(t).range(e)},A=a(162),G=function(t){var e=Object(n.useState)([]),a=Object(j.a)(e,2),c=a[0],r=a[1],i=Object(n.useCallback)(Object(x.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.h(t);case 2:a=e.sent,r(a);case 4:case"end":return e.stop()}}),e)}))),[t]);return Object(n.useEffect)((function(){i()}),[i]),[c,r]},H=function(t,e){var a=Object(n.useState)(""),c=Object(j.a)(a,2),r=c[0],i=c[1],s=Object(A.a)(r,400),o=Object(j.a)(s,1)[0],u=Object(n.useState)([]),l=Object(j.a)(u,2),d=l[0],b=l[1],f=Object(n.useMemo)((function(){return Object(h.a)(o)}),[o]);return Object(n.useEffect)((function(){if(o){var a=t.map(e(f));b(a)}else b(t)}),[t,f,o,b,e]),Object(n.useEffect)((function(){d&&d.map((function(t){var e=t.id,a=t.isHighlighted,n=document.getElementById(e);n&&n.setAttribute("stroke",a?"blue":"none")}))}),[d]),{searchInput:r,setSearchInput:i}},V=(a(56),a(1)),D=1e3,F=500,L=["#ff4a4a","#ad0303"],P="arrowhead",T=function(t){return Math.sqrt((10+100*t.citedBy)/Math.PI)},Y=function(t){return T(t)+5};function J(t){var e,a,c,r=t.data,i=t.setSelectedNode,s=Object(n.useState)([]),o=Object(j.a)(s,2),u=o[0],l=o[1],h=Object(n.useState)([]),d=Object(j.a)(h,2),b=d[0],f=d[1],O=Object(n.useMemo)((function(){return g.a(r,(function(t){return t.citedBy}))}),[r]),p=g.l("svg#citationGraph");c=P,Object(n.useEffect)((function(){g.l("svg").append("defs").append("marker").attr("id",c).attr("refX",9.5).attr("refY",3).attr("orient","auto").attr("markerWidth",12).attr("markerHeight",9).attr("xoverflow","visible").append("svg:path").attr("d","M1.25 1.08359L7.33542 3L1.25 4.91641L1.25 1.08359Z").attr("fill","#999").style("stroke","none")}),[c]);var I=Object(n.useRef)(null),A=Object(n.useCallback)(Object(x.a)(m.a.mark((function t(){var e,a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r&&(e=r,a=Object(N.a)(Object(y.a)("id"),e),n=Object(k.a)((function(t,e){var n=e.title,c=e.citations,r=Object(w.a)(Object(S.a)((function(t){return{source:n,target:t.title}})),Object(C.a)((function(t){return a[t.title]})))(c);return[].concat(Object(v.a)(t),Object(v.a)(r))}),[],r),f(e),l(n));case 1:case"end":return t.stop()}}),t)}))),[f,l,r]);Object(n.useEffect)((function(){A()}),[A]);var G=(e=p.selectAll("line").data(u)).join.apply(e,Object(v.a)(M("line"))).attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",2).attr("marker-end",(function(){return"url(#".concat(P,")")})).lower(),H=(a=p.selectAll("circle").data(b)).join.apply(a,Object(v.a)(M("circle"))).attr("r",T).attr("id",(function(t){return t.id})).attr("stroke","transparent").attr("stroke-width",3).style("fill",(function(t){return E(O,L)(t.citedBy)})).on("click",(function(t,e){var a=e.authors,n=e.citedBy,c=e.keywords,r=e.title,s=e.id,o=a.map((function(t){return"".concat(t.forename,". ").concat(t.surname)}));i({authorNames:o,citedBy:n,keywords:c,title:r,id:s})}));return Object(n.useEffect)((function(){I.current=g.g().alphaDecay(.03).force("charge",g.e().strength(0)).force("center",g.b().x(500).y(250)).force("link",g.d().id(Object(y.a)("id"))).force("collision",g.c(Y)),I.current.nodes(b).on("tick",B(H,G,D,F)),I.current.force("link").links(u)}),[b,u,H,G]),Object(n.useEffect)((function(){var t=setTimeout((function(){return I.current.stop()}),5e3);return function(){return clearTimeout(t)}}),[]),Object(V.jsx)("svg",{id:"citationGraph",width:D,height:F,viewBox:"".concat(-500," ").concat(-250," ").concat(-1e3," ").concat(-500)})}var K=Object(n.memo)(J),R=(a(146),function(t){var e=t.className,a=t.value,n=t.setValue,c=t.placeholder;return Object(V.jsx)("div",{className:"Search ".concat(e),children:Object(V.jsx)("input",{className:"Search__input",placeholder:c,value:a,onChange:function(t){var e=t.target.value;n(e)}})})}),_=Object(n.memo)(R),q=["title"];var z=function(){var t=G("citeData.json"),e=Object(j.a)(t,1)[0],a=Object(n.useState)(""),c=Object(j.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(void 0),o=Object(j.a)(s,2),p=o[0],m=o[1];Object(n.useEffect)((function(){var t=e.map((function(t){var e=t.title,a=Object(l.a)(t,q);return Object(u.a)(Object(u.a)({},a),{},{id:e,title:e})}));i(t)}),[i,e]);var v=H(r,(function(t){return function(e){var a=e.id,n=e.title,c=e.authors.map((function(t){var e=t.forename,a=t.surname;return"".concat(e," ").concat(a)})).join(" "),r=Object(h.a)("".concat(n," ").concat(c));return{id:a,isHighlighted:Object(d.a)(t,r)}}})),x=v.searchInput,g=v.setSearchInput,N=H(r,(function(t){return function(e){var a=e.id,n=e.citedBy;return{id:a,isHighlighted:Object(b.a)(parseInt(t),n)}}})),y=N.searchInput,k=N.setSearchInput,w=H(r,(function(t){return function(e){var a=e.id,n=e.year;return console.log({year:n,input:t}),{id:a,isHighlighted:Object(b.a)(t,n)}}})),S=w.searchInput,C=w.setSearchInput,I=H(r,(function(t){return function(e){var a=e.id,n=e.year;return{id:a,isHighlighted:Object(f.a)(parseInt(n),parseInt(t))}}})),B=I.searchInput,M=I.setSearchInput,E=H(r,(function(t){return function(e){var a=e.id,n=e.year;return{id:a,isHighlighted:Object(O.a)(parseInt(n),parseInt(t))}}})),A=E.searchInput,D=E.setSearchInput;return Object(V.jsxs)("div",{className:"coauthorship-graph-container",children:[Object(V.jsxs)("div",{className:"coauthorship-results",children:[Object(V.jsxs)("div",{className:"coauthorship-filter-container",children:[Object(V.jsx)(_,{placeholder:"Search by author",className:"coauthorship-search",value:x,setValue:g}),Object(V.jsx)(_,{className:"coauthorship-search mt-2",placeholder:"Search by number of citations",value:y,setValue:k}),Object(V.jsx)(_,{className:"coauthorship-search mt-2",placeholder:"Search by year",value:S,setValue:C}),Object(V.jsx)(_,{className:"coauthorship-search mt-2",placeholder:"Year from",value:B,setValue:M}),Object(V.jsx)(_,{className:"coauthorship-search mt-2",placeholder:"Year to",value:A,setValue:D})]}),p?Object(V.jsxs)("div",{className:"author-info",children:[Object(V.jsx)("div",{className:"author-info-title",children:p.title}),Object(V.jsxs)("div",{className:"author-list",children:[Object(V.jsx)("b",{children:"Authors:"})," ",p.authorNames.join(", ")]}),Object(V.jsxs)("div",{className:"author-list mt-2",children:[Object(V.jsx)("b",{children:"Keywords:"})," ",0!==p.keywords.length?p.keywords.join(", "):"No keywords found!"]})]}):Object(V.jsxs)("div",{className:"item",children:[Object(V.jsx)("div",{className:"item-title",children:"No coauthorship node selected."}),Object(V.jsx)("div",{className:"item-subtitle",children:"Click on a red node to view more information."})]})]}),Object(V.jsx)(K,{data:r,setSelectedNode:m})]})},W=a(155),X=a(156),Z=a(161),Q=a(9),U=1e3,$=800,tt=["#CCCCCC","blue"],et=["#ff4a4a","#ad0303"],at=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[2,10];return function(a){return g.i().domain(t).range(e)(a)}};function nt(t){var e,a,c=t.data,r=t.setSelectedNode,i=g.l("svg#coauthorshipGraph"),s=Object(n.useState)([]),o=Object(j.a)(s,2),l=o[0],h=o[1],d=Object(n.useState)([]),b=Object(j.a)(d,2),f=b[0],O=b[1],p=Object(n.useMemo)((function(){return g.a(Object(W.a)(Object(Z.a)({},["coauthorships"],c)),(function(t){return(t.papers||[]).length}))}),[c]),N=Object(n.useMemo)((function(){return g.a(Object(W.a)(Object(Z.a)({},["authors"],c)),(function(t){return t.papersCount}))}),[c]),k=Object(n.useRef)(null),C=Object(n.useCallback)(Object(x.a)(m.a.mark((function t(){var e,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c&&Object(Q.a)(c).length&&(e=Object(w.a)((function(t){return t}),(function(t){return Object(W.a)(t)}),Object(X.a)((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{id:e})})))(c.authors),a=Object(w.a)(Object(S.a)((function(t){return Object(u.a)(Object(u.a)({},t),{},{source:t.firstAuthor,target:t.secondAuthor})})),(function(t){return Object(W.a)(t)}))(c.coauthorships),O(e),h(a));case 1:case"end":return t.stop()}}),t)}))),[O,h,c]);Object(n.useEffect)((function(){C()}),[C]);var I=(e=i.selectAll("line").data(l)).join.apply(e,Object(v.a)(M("line"))).style("stroke",(function(t){return E(p,tt)((t.papers||[]).length)})).attr("stroke-width",(function(t){return g.j(p,[1,8])((t.papers||[]).length)})).lower(),A=(a=i.selectAll("circle").data(f)).join.apply(a,Object(v.a)(M("circle"))).attr("r",(function(t){return at(N,[2,9])(t.papersCount)})).attr("id",(function(t){return t.id})).attr("stroke","transparent").attr("stroke-width",3).style("fill",(function(t){return E(N,et)(t.papersCount)})).on("click",(function(t,e){var a=e.forename,n=e.surname,c=e.papers;c=c.map((function(t){var e=t.authors,a=t.title;return{authorNames:e.map((function(t){return"".concat(t.forename,". ").concat(t.surname)})),title:a}})),r({fullName:"".concat(a,". ").concat(n),papers:c})}));return Object(n.useEffect)((function(){k.current=g.g().alphaDecay(.03).force("charge",g.e().distanceMin(3).distanceMax(50).strength(-50)).force("center",g.b().x(500).y(400)).force("link",g.d().id(Object(y.a)("id")).distance((function(t){return t.source.papersCount+t.target.papersCount<=4?3:g.i(p,[4,50])(t.source.papersCount+t.target.papersCount)})).strength(.5)).force("collision",g.c((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[2,10];return function(a){return at(t,e)(a)>4?3*at(t,e)(a):at(t,e)(a)}}(N,[3,9])(t.papersCount)})).strength(.25)).force("r",g.f((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[280,210,140,70,1],a=Object(j.a)(t,2),n=a[0],c=a[1],r=(c-n)/4,i=[n,n+r,n+2*r,n+3*r,c];return g.k().range(e).domain(i)}(N)(t.papersCount)})).x(500).y(400).strength(1)),k.current.nodes(f).on("tick",B(A,I,U,$)),k.current.force("link").links(l)}),[f,l,i,p,N,r,A,I]),Object(V.jsx)("svg",{className:"coauthorship-graph",id:"coauthorshipGraph",width:U,height:$,viewBox:"".concat(-500," ").concat(-400," ").concat(-1e3," ").concat(-800)})}var ct=Object(n.memo)(nt);var rt=function(){var t=G("authorData.json"),e=Object(j.a)(t,1)[0],a=Object(n.useState)(void 0),c=Object(j.a)(a,2),r=c[0],i=c[1],s=Object(n.useMemo)((function(){return Object(w.a)((function(t){return t}),(function(t){return Object(W.a)(t)}),Object(X.a)((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{id:e})})))(e.authors)}),[e]),o=Object(n.useCallback)((function(t){return function(e){var a=e.id,n=e.forename,c=e.surname,r=Object(h.a)("".concat(n," ").concat(c));return{id:a,isHighlighted:Object(d.a)(t,r)}}}),[]),l=H(s,o),b=l.searchInput,f=l.setSearchInput;return Object(V.jsxs)("div",{className:"coauthorship-graph-container",children:[Object(V.jsxs)("div",{className:"coauthorship-results",children:[Object(V.jsx)("div",{className:"coauthorship-filter-container",children:Object(V.jsx)(_,{placeholder:"Search by author",className:"coauthorship-search",value:b,setValue:f})}),r?Object(V.jsxs)("div",{className:"author-info",children:[Object(V.jsx)("div",{className:"author-info-title",children:r.fullName}),Object(V.jsx)("div",{className:"author-info-list",children:r.papers.map((function(t,e){return Object(V.jsxs)("div",{className:"author-info-list-item",children:[Object(V.jsx)("div",{className:"author-info-list-item-title",children:t.title}),Object(V.jsx)("div",{className:"author-info-list-item-subtitle",children:t.authorNames.join(", ")})]},e)}))})]}):Object(V.jsxs)("div",{className:"item",children:[Object(V.jsx)("div",{className:"item-title",children:"No coauthorship node selected."}),Object(V.jsx)("div",{className:"item-subtitle",children:"Click on a red node to view more information."})]})]}),Object(V.jsx)(ct,{data:e,setSelectedNode:i})]})};var it=function(t){return Object(V.jsx)(s.b,{to:t.to,children:Object(V.jsxs)("div",{className:"card",children:[Object(V.jsx)("div",{className:"card-img",style:{backgroundImage:"url(".concat(t.bannerImage,")")}}),Object(V.jsxs)("div",{className:"card-body",children:[Object(V.jsx)("div",{className:"card-title",children:t.title}),Object(V.jsx)("div",{className:"card-subtitle",children:t.subtitle})]})]})})};var st=function(){return Object(V.jsxs)("div",{className:"card-container",children:[Object(V.jsx)(it,{title:"Citation graph",subtitle:"Graph displaying number of citations",bannerImage:"citationGraphBanner.png",to:"/citation"}),Object(V.jsx)(it,{title:"Co-authorship graph",subtitle:"Graph display number of coauthorships",bannerImage:"coAuthorshipGraphBanner.png",to:"/coauthorship"})]})};var ot=function(){return Object(V.jsxs)("nav",{className:"navbar",children:[Object(V.jsx)("span",{className:"navbar-title",children:" Publications viz "}),Object(V.jsx)("span",{className:"navbar-subtitle",children:" Nika \u010ci\u0107, Yaryna Korduba "})]})};a(147);var ut=function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("main",{className:"app",children:Object(V.jsx)(s.a,{children:Object(V.jsxs)(o.c,{children:[Object(V.jsx)(o.a,{path:"/",element:Object(V.jsx)(st,{})}),Object(V.jsx)(o.a,{path:"/citation/",element:Object(V.jsx)(z,{})}),Object(V.jsx)(o.a,{path:"/coauthorship/",element:Object(V.jsx)(rt,{})})]})})}),Object(V.jsx)(ot,{})]})},lt=(a(148),function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,163)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),n(t),c(t),r(t),i(t)}))});i.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(ut,{})}),document.getElementById("root")),lt()},56:function(t,e,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.735fc739.chunk.js.map