(this["webpackJsonpcitation-networks"]=this["webpackJsonpcitation-networks"]||[]).push([[0],{146:function(t,e,a){},147:function(t,e,a){},148:function(t,e,a){},149:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(57),i=a.n(c),s=a(38),o=a(3),u=a(13),l=a(61),h=a(7),j=a(158),d=a(152),b=a(59),f=a(153),O=a(154),p=a(8),m=a.n(p),v=a(18),x=a(22),g=a(5),N=a(160),k=a(151),y=a(58),w=a(159),S=a(161),I=a(60),C=function(t,e){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r="x"===e?a:n;return Math.max(20,Math.min(r-20,t[e]))}},M=function(t,e,a,n){return function(){e.attr("x1",(function(t){return C(t.source,"x")(a,n)})).attr("y1",(function(t){return C(t.source,"y")(a,n)})).attr("x2",(function(t){return C(t.target,"x")(a,n)})).attr("y2",(function(t){return C(t.target,"y")(a,n)})),t.attr("transform",(function(t){return"translate("+C(t,"x")(a,n)+","+C(t,"y")(a,n)+")"}))}},B=function(t){return[function(e){return e.append(t)},function(t){return t},function(t){return t.remove()}]},E=function(t,e){return g.i().domain(t).range(e)},A=a(163),G=function(t){var e=Object(n.useState)([]),a=Object(h.a)(e,2),r=a[0],c=a[1],i=Object(n.useCallback)(Object(x.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.h(t);case 2:a=e.sent,c(a);case 4:case"end":return e.stop()}}),e)}))),[t]);return Object(n.useEffect)((function(){i()}),[i]),[r,c]},H=function(t,e){var a=Object(n.useState)(""),r=Object(h.a)(a,2),c=r[0],i=r[1],s=Object(A.a)(c,400),o=Object(h.a)(s,1)[0],u=Object(n.useState)([]),l=Object(h.a)(u,2),d=l[0],b=l[1],f=Object(n.useMemo)((function(){return Object(j.a)(o)}),[o]);return Object(n.useEffect)((function(){if(o){var a=t.map(e(f));b(a)}else b(t)}),[t,f,o,b,e]),Object(n.useEffect)((function(){d&&d.map((function(t){var e=t.id,a=t.isHighlighted,n=document.getElementById(e);n&&n.setAttribute("stroke",a?"#161853b8":"none")}))}),[d]),{searchInput:c,setSearchInput:i}},V=(a(56),a(1)),D=1e3,F=500,L=["#ff4a4a","#ad0303"],P="arrowhead",T=function(t){return Math.sqrt((10+100*t.citedBy)/Math.PI)},Y=function(t){return T(t)+5};function z(t){var e,a,r,c=t.data,i=t.setSelectedNode,s=Object(n.useState)([]),o=Object(h.a)(s,2),u=o[0],l=o[1],j=Object(n.useState)([]),d=Object(h.a)(j,2),b=d[0],f=d[1],O=Object(n.useMemo)((function(){return g.a(c,(function(t){return t.citedBy}))}),[c]),p=g.l("svg#citationGraph");r=P,Object(n.useEffect)((function(){g.l("svg").append("defs").append("marker").attr("id",r).attr("refX",9.5).attr("refY",3).attr("orient","auto").attr("markerWidth",12).attr("markerHeight",9).attr("xoverflow","visible").append("svg:path").attr("d","M1.25 1.08359L7.33542 3L1.25 4.91641L1.25 1.08359Z").attr("fill","#999").style("stroke","none")}),[r]);var C=Object(n.useRef)(null),A=Object(n.useCallback)(Object(x.a)(m.a.mark((function t(){var e,a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c&&(e=c,a=Object(N.a)(Object(k.a)("id"),e),n=Object(y.a)((function(t,e){var n=e.title,r=e.citations,c=Object(w.a)(Object(S.a)((function(t){return{source:n,target:t.title}})),Object(I.a)((function(t){return a[t.title]})))(r);return[].concat(Object(v.a)(t),Object(v.a)(c))}),[],c),f(e),l(n));case 1:case"end":return t.stop()}}),t)}))),[f,l,c]);Object(n.useEffect)((function(){A()}),[A]);var G=(e=p.selectAll("line").data(u)).join.apply(e,Object(v.a)(B("line"))).attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",2).attr("marker-end",(function(){return"url(#".concat(P,")")})).lower(),H=(a=p.selectAll("circle").data(b)).join.apply(a,Object(v.a)(B("circle"))).attr("r",T).attr("id",(function(t){return t.id})).attr("stroke","transparent").attr("stroke-width",3).attr("cursor","pointer").style("fill",(function(t){return E(O,L)(t.citedBy)})).on("click",(function(t,e){var a=e.authors,n=e.citedBy,r=e.keywords,c=e.title,s=e.id,o=a.map((function(t){return"".concat(t.forename,". ").concat(t.surname)}));i({authorNames:o,citedBy:n,keywords:r,title:c,id:s})}));return Object(n.useEffect)((function(){C.current=g.g().alphaDecay(.03).force("charge",g.e().strength(0)).force("center",g.b().x(500).y(250)).force("link",g.d().id(Object(k.a)("id"))).force("collision",g.c(Y)),C.current.nodes(b).on("tick",M(H,G,D,F)),C.current.force("link").links(u)}),[b,u,H,G]),Object(n.useEffect)((function(){var t=setTimeout((function(){return C.current.stop()}),5e3);return function(){return clearTimeout(t)}}),[]),Object(V.jsx)("svg",{id:"citationGraph",width:D,height:F,viewBox:"".concat(-500," ").concat(-250," ").concat(-1e3," ").concat(-500)})}var J=Object(n.memo)(z),K=(a(146),function(t){var e=t.className,a=t.value,n=t.setValue,r=t.placeholder;return Object(V.jsx)("div",{className:"Search ".concat(e),children:Object(V.jsx)("input",{className:"Search__input",placeholder:r,value:a,onChange:function(t){var e=t.target.value;n(e)}})})}),R=Object(n.memo)(K),_=["title"];var q=function(){var t=G("citeData.json"),e=Object(h.a)(t,1)[0],a=Object(n.useState)(""),r=Object(h.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(void 0),o=Object(h.a)(s,2),p=o[0],m=o[1];Object(n.useEffect)((function(){var t=e.map((function(t){var e=t.title,a=Object(l.a)(t,_);return Object(u.a)(Object(u.a)({},a),{},{id:e,title:e})}));i(t)}),[i,e]);var v=H(c,(function(t){return function(e){var a=e.id,n=e.title,r=e.authors.map((function(t){var e=t.forename,a=t.surname;return"".concat(e," ").concat(a)})).join(" "),c=Object(j.a)("".concat(n," ").concat(r));return{id:a,isHighlighted:Object(d.a)(t,c)}}})),x=v.searchInput,g=v.setSearchInput,N=H(c,(function(t){return function(e){var a=e.id,n=e.citedBy;return{id:a,isHighlighted:Object(b.a)(parseInt(t),n)}}})),k=N.searchInput,y=N.setSearchInput,w=H(c,(function(t){return function(e){var a=e.id,n=e.year;return{id:a,isHighlighted:Object(b.a)(t,n)}}})),S=w.searchInput,I=w.setSearchInput,C=H(c,(function(t){return function(e){var a=e.id,n=e.year;return{id:a,isHighlighted:Object(f.a)(parseInt(n),parseInt(t))}}})),M=C.searchInput,B=C.setSearchInput,E=H(c,(function(t){return function(e){var a=e.id,n=e.year;return{id:a,isHighlighted:Object(O.a)(parseInt(n),parseInt(t))}}})),A=E.searchInput,D=E.setSearchInput;return Object(V.jsxs)("div",{className:"coauthorship-graph-container",children:[Object(V.jsxs)("div",{className:"coauthorship-results",children:[Object(V.jsxs)("div",{className:"coauthorship-filter-container",children:[Object(V.jsx)(R,{placeholder:"Search by author",className:"coauthorship-search",value:x,setValue:g}),Object(V.jsx)(R,{className:"coauthorship-search mt-2",placeholder:"Search by number of citations",value:k,setValue:y}),Object(V.jsx)(R,{className:"coauthorship-search mt-2",placeholder:"Search by year",value:S,setValue:I}),Object(V.jsx)(R,{className:"coauthorship-search mt-2",placeholder:"Year from",value:M,setValue:B}),Object(V.jsx)(R,{className:"coauthorship-search mt-2",placeholder:"Year to",value:A,setValue:D})]}),p?Object(V.jsxs)("div",{className:"author-info",children:[Object(V.jsx)("div",{className:"author-info-title",children:p.title}),Object(V.jsxs)("div",{className:"author-list",children:[Object(V.jsx)("b",{children:"Authors:"})," ",p.authorNames.join(", ")]}),Object(V.jsxs)("div",{className:"author-list mt-2",children:[Object(V.jsx)("b",{children:"Keywords:"})," ",0!==p.keywords.length?p.keywords.join(", "):"No keywords found!"]})]}):Object(V.jsxs)("div",{className:"item",children:[Object(V.jsx)("div",{className:"item-title",children:"No coauthorship node selected."}),Object(V.jsx)("div",{className:"item-subtitle",children:"Click on a red node to view more information."})]})]}),Object(V.jsx)(J,{data:c,setSelectedNode:m})]})},W=a(155),X=a(156),Z=a(162),Q=a(9),U=a(157),$=1e3,tt=800,et=["#CCCCCC","blue"],at=["#ff4a4a","#ad0303"],nt=[2.5,12],rt=[1,8],ct=function(t,e){return function(a){return g.i().domain(t).range(e)(a)}};function it(t){var e,a,r=t.data,c=t.setSelectedNode,i=g.l("svg#coauthorshipGraph"),s=Object(n.useState)([]),o=Object(h.a)(s,2),l=o[0],j=o[1],d=Object(n.useState)([]),b=Object(h.a)(d,2),f=b[0],O=b[1],p=Object(n.useMemo)((function(){return g.a(Object(W.a)(Object(Z.a)({},["coauthorships"],r)),(function(t){return(t.papers||[]).length}))}),[r]);console.log(p);var N=Object(n.useMemo)((function(){return g.a(Object(W.a)(Object(Z.a)({},["authors"],r)),(function(t){return t.papersCount}))}),[r]),y=Object(n.useRef)(null),I=Object(n.useCallback)(Object(x.a)(m.a.mark((function t(){var e,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r&&Object(Q.a)(r).length&&(e=Object(w.a)((function(t){return t}),(function(t){return Object(W.a)(t)}),Object(X.a)((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{id:e})})))(r.authors),a=Object(w.a)(Object(U.a)((function(t,e){return(e.papers||[]).length-(t.papers||[]).length})),Object(S.a)((function(t){return Object(u.a)(Object(u.a)({},t),{},{source:t.firstAuthor,target:t.secondAuthor})})),(function(t){return Object(W.a)(t)}))(r.coauthorships),O(e),j(a));case 1:case"end":return t.stop()}}),t)}))),[O,j,r]);Object(n.useEffect)((function(){I()}),[I]);var C=(e=i.selectAll("line").data(l)).join.apply(e,Object(v.a)(B("line"))).style("stroke",(function(t){return E(p,et)((t.papers||[]).length)})).attr("stroke-width",(function(t){return g.j(p,rt)((t.papers||[]).length)})).lower(),A=(a=i.selectAll("circle").data(f)).join.apply(a,Object(v.a)(B("circle"))).attr("r",(function(t){return ct(N,nt)(t.papersCount)})).attr("id",(function(t){return t.id})).attr("stroke","transparent").attr("stroke-width",3).attr("cursor","pointer").style("fill",(function(t){return E(N,at)(t.papersCount)})).on("click",(function(t,e){var a=e.forename,n=e.surname,r=e.papers;r=r.map((function(t){var e=t.authors,a=t.title;return{authorNames:e.map((function(t){return"".concat(t.forename,". ").concat(t.surname)})),title:a}})),c({fullName:"".concat(a,". ").concat(n),papers:r})}));return Object(n.useEffect)((function(){y.current=g.g().alphaDecay(.015).force("charge",g.e().distanceMin(20).distanceMax(200).strength((function(t){return t.papersCount>=4?-10:-40}))).force("center",g.b().x(500).y(400)).force("link",g.d().id(Object(k.a)("id")).distance((function(t){return g.i(p,[20,70])(t.papers.length)})).strength(.35)).force("collision",g.c((function(t){return(e=N,a=nt,function(t){return ct(e,a)(t)>=4?5*ct(e,a)(t):2.5*ct(e,a)(t)})(t.papersCount);var e,a})).strength(.5)).force("r",g.f((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[600,240,120,30,1],a=Object(h.a)(t,2),n=a[0],r=a[1],c=(r-n)/4,i=[n,n+c,n+2*c,n+3*c,r];return g.k().range(e).domain(i)}(N)(t.papersCount)})).x(500).y(400).strength(.8)),y.current.nodes(f).on("tick",M(A,C,$,tt)),y.current.force("link").links(l)}),[f,l,i,p,N,c,A,C]),Object(V.jsx)("svg",{className:"coauthorship-graph",id:"coauthorshipGraph",width:$,height:tt,viewBox:"".concat(-500," ").concat(-400," ").concat(-1e3," ").concat(-800)})}var st=Object(n.memo)(it);var ot=function(){var t=G("authorData.json"),e=Object(h.a)(t,1)[0],a=Object(n.useState)(void 0),r=Object(h.a)(a,2),c=r[0],i=r[1],s=Object(n.useMemo)((function(){return Object(w.a)((function(t){return t}),(function(t){return Object(W.a)(t)}),Object(X.a)((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{id:e})})))(e.authors)}),[e]),o=Object(n.useCallback)((function(t){return function(e){var a=e.id,n=e.forename,r=e.surname,c=Object(j.a)("".concat(n," ").concat(r));return{id:a,isHighlighted:Object(d.a)(t,c)}}}),[]),l=H(s,o),b=l.searchInput,f=l.setSearchInput;return Object(V.jsxs)("div",{className:"coauthorship-graph-container",children:[Object(V.jsxs)("div",{className:"coauthorship-results",children:[Object(V.jsx)("div",{className:"coauthorship-filter-container",children:Object(V.jsx)(R,{placeholder:"Search by author",className:"coauthorship-search",value:b,setValue:f})}),c?Object(V.jsxs)("div",{className:"author-info",children:[Object(V.jsx)("div",{className:"author-info-title",children:c.fullName}),Object(V.jsxs)("div",{className:"author-info-subtitle",children:[(c.papers||[]).length," Paper",1===(c.papers||[]).length?"":"s"]}),Object(V.jsx)("div",{className:"author-info-list",children:c.papers.map((function(t,e){return Object(V.jsxs)("div",{className:"author-info-list-item",children:[Object(V.jsx)("div",{className:"author-info-list-item-title",children:t.title}),Object(V.jsx)("div",{className:"author-info-list-item-subtitle",children:t.authorNames.join(", ")})]},e)}))})]}):Object(V.jsxs)("div",{className:"item",children:[Object(V.jsx)("div",{className:"item-title",children:"No coauthorship node selected."}),Object(V.jsx)("div",{className:"item-subtitle",children:"Click on a red node to view more information."})]})]}),Object(V.jsx)(st,{data:e,setSelectedNode:i})]})};var ut=function(t){return Object(V.jsx)(s.b,{to:t.to,children:Object(V.jsxs)("div",{className:"card",children:[Object(V.jsx)("div",{className:"card-img",style:{backgroundImage:"url(".concat(t.bannerImage,")")}}),Object(V.jsxs)("div",{className:"card-body",children:[Object(V.jsx)("div",{className:"card-title",children:t.title}),Object(V.jsx)("div",{className:"card-subtitle",children:t.subtitle})]})]})})};var lt=function(){return Object(V.jsxs)("div",{className:"card-container",children:[Object(V.jsx)(ut,{title:"Citation graph",subtitle:"Graph displaying number of citations",bannerImage:"citationGraphBanner.png",to:"/citation"}),Object(V.jsx)(ut,{title:"Co-authorship graph",subtitle:"Graph display number of coauthorships",bannerImage:"coAuthorshipGraphBanner.png",to:"/coauthorship"})]})};var ht=function(){var t=Object(n.useMemo)((function(){return"#/coauthorship"===window.location.hash?"Coauthorship viz":"Publications viz"}),[]);return Object(V.jsxs)("nav",{className:"navbar",children:[Object(V.jsx)("span",{className:"navbar-title",children:t}),Object(V.jsx)("span",{className:"navbar-subtitle",children:" Nika \u010ci\u0107, Yaryna Korduba "})]})};a(147);var jt=function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("main",{className:"app",children:Object(V.jsx)(s.a,{children:Object(V.jsxs)(o.c,{children:[Object(V.jsx)(o.a,{path:"/",element:Object(V.jsx)(lt,{})}),Object(V.jsx)(o.a,{path:"/citation/",element:Object(V.jsx)(q,{})}),Object(V.jsx)(o.a,{path:"/coauthorship/",element:Object(V.jsx)(ot,{})})]})})}),Object(V.jsx)(ht,{})]})},dt=(a(148),function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,164)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),c(t),i(t)}))});i.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(jt,{})}),document.getElementById("root")),dt()},56:function(t,e,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.70d047d2.chunk.js.map