(this["webpackJsonpcitation-networks"]=this["webpackJsonpcitation-networks"]||[]).push([[0],{147:function(t,e,a){},148:function(t,e,a){},149:function(t,e,a){},150:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(57),i=a.n(r),s=a(38),o=a(3),u=a(13),l=a(61),j=a(7),h=a(159),d=a(153),b=a(59),f=a(154),p=a(155),O=a(8),m=a.n(O),v=a(18),x=a(22),g=a(5),N=a(161),y=a(152),k=a(58),w=a(160),S=a(162),I=a(60),C=function(t,e){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,c="x"===e?a:n;return Math.max(20,Math.min(c-20,t[e]))}},B=function(t,e,a,n){return function(){e.attr("x1",(function(t){return C(t.source,"x")(a,n)})).attr("y1",(function(t){return C(t.source,"y")(a,n)})).attr("x2",(function(t){return C(t.target,"x")(a,n)})).attr("y2",(function(t){return C(t.target,"y")(a,n)})),t.attr("transform",(function(t){return"translate("+C(t,"x")(a,n)+","+C(t,"y")(a,n)+")"}))}},M=function(t){return[function(e){return e.append(t)},function(t){return t},function(t){return t.remove()}]},E=function(t,e){return g.i().domain(t).range(e)},A=a(164),G=function(t){var e=Object(n.useState)([]),a=Object(j.a)(e,2),c=a[0],r=a[1],i=Object(n.useCallback)(Object(x.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.h(t);case 2:a=e.sent,r(a);case 4:case"end":return e.stop()}}),e)}))),[t]);return Object(n.useEffect)((function(){i()}),[i]),[c,r]},H=function(t,e){var a=Object(n.useState)(""),c=Object(j.a)(a,2),r=c[0],i=c[1],s=Object(A.a)(r,400),o=Object(j.a)(s,1)[0],u=Object(n.useState)([]),l=Object(j.a)(u,2),d=l[0],b=l[1],f=Object(n.useMemo)((function(){return Object(h.a)(o)}),[o]);return Object(n.useEffect)((function(){if(o){var a=t.map(e(f));b(a)}else b(t)}),[t,f,o,b,e]),Object(n.useEffect)((function(){d&&d.map((function(t){var e=t.id,a=t.isHighlighted,n=document.getElementById(e);n&&n.setAttribute("stroke",a?"#161853b8":"none")}))}),[d]),{searchInput:r,setSearchInput:i}},V=(a(56),a(1)),D=800,F=600,L=["#ff4a4a","#ad0303"],P="arrowhead",Y=function(t){return Math.sqrt((10+100*t.citedBy)/Math.PI)},z=function(t){return Y(t)+5};function T(t){var e,a,c,r=t.data,i=t.setSelectedNode,s=Object(n.useState)([]),o=Object(j.a)(s,2),u=o[0],l=o[1],h=Object(n.useState)([]),d=Object(j.a)(h,2),b=d[0],f=d[1],p=Object(n.useMemo)((function(){return g.a(r,(function(t){return t.citedBy}))}),[r]),O=g.k("svg#citationGraph");c=P,Object(n.useEffect)((function(){g.k("svg").append("defs").append("marker").attr("id",c).attr("refX",9.5).attr("refY",3).attr("orient","auto").attr("markerWidth",12).attr("markerHeight",9).attr("xoverflow","visible").append("svg:path").attr("d","M1.25 1.08359L7.33542 3L1.25 4.91641L1.25 1.08359Z").attr("fill","#999").style("stroke","none")}),[c]);var C=Object(n.useRef)(null),A=Object(n.useCallback)(Object(x.a)(m.a.mark((function t(){var e,a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r&&(e=r,a=Object(N.a)(Object(y.a)("id"),e),n=Object(k.a)((function(t,e){var n=e.title,c=e.citations,r=Object(w.a)(Object(S.a)((function(t){return{source:n,target:t.title}})),Object(I.a)((function(t){return a[t.title]})))(c);return[].concat(Object(v.a)(t),Object(v.a)(r))}),[],r),f(e),l(n));case 1:case"end":return t.stop()}}),t)}))),[f,l,r]);Object(n.useEffect)((function(){A()}),[A]);var G=(e=O.selectAll("line").data(u)).join.apply(e,Object(v.a)(M("line"))).attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",2).attr("marker-end",(function(){return"url(#".concat(P,")")})).lower(),H=(a=O.selectAll("circle").data(b)).join.apply(a,Object(v.a)(M("circle"))).attr("r",Y).attr("id",(function(t){return t.id})).attr("stroke","transparent").attr("stroke-width",3).attr("cursor","pointer").style("fill",(function(t){return E(p,L)(t.citedBy)})).on("click",(function(t,e){var a=e.authors,n=e.citedBy,c=e.keywords,r=e.title,s=e.id,o=e.year,u=a.map((function(t){return"".concat(t.forename,". ").concat(t.surname)}));i({authorNames:u,citedBy:n,keywords:c,title:r,id:s,year:o})}));return Object(n.useEffect)((function(){C.current=g.g().alphaDecay(.03).force("charge",g.e().strength(0)).force("center",g.b().x(400).y(300)).force("link",g.d().id(Object(y.a)("id"))).force("collision",g.c(z)),C.current.nodes(b).on("tick",B(H,G,D,F)),C.current.force("link").links(u)}),[b,u,H,G]),Object(n.useEffect)((function(){var t=setTimeout((function(){return C.current.stop()}),5e3);return function(){return clearTimeout(t)}}),[]),Object(V.jsx)("svg",{id:"citationGraph",class:"citation-graph",width:D,height:F,viewBox:"".concat(-400," ").concat(-300," ").concat(-800," ").concat(-600)})}var J=Object(n.memo)(T),K=(a(147),function(t){var e=t.className,a=t.value,n=t.setValue,c=t.placeholder;return Object(V.jsx)("div",{className:"Search ".concat(e),children:Object(V.jsx)("input",{className:"Search__input",placeholder:c,value:a,onChange:function(t){var e=t.target.value;n(e)}})})}),R=Object(n.memo)(K),_=["title"];var q=function(){var t=G("citeData.json"),e=Object(j.a)(t,1)[0],a=Object(n.useState)(""),c=Object(j.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(void 0),o=Object(j.a)(s,2),O=o[0],m=o[1];Object(n.useEffect)((function(){var t=e.map((function(t){var e=t.title,a=Object(l.a)(t,_);return Object(u.a)(Object(u.a)({},a),{},{id:e,title:e})}));i(t)}),[i,e]);var v=H(r,(function(t){return function(e){var a=e.id,n=e.title,c=e.authors.map((function(t){var e=t.forename,a=t.surname;return"".concat(e," ").concat(a)})).join(" "),r=Object(h.a)("".concat(n," ").concat(c));return{id:a,isHighlighted:Object(d.a)(t,r)}}})),x=v.searchInput,g=v.setSearchInput,N=H(r,(function(t){return function(e){var a=e.id,n=e.citedBy;return{id:a,isHighlighted:Object(b.a)(parseInt(t),n)}}})),y=N.searchInput,k=N.setSearchInput,w=H(r,(function(t){return function(e){var a=e.id,n=e.year;return{id:a,isHighlighted:Object(b.a)(t,n)}}})),S=w.searchInput,I=w.setSearchInput,C=H(r,(function(t){return function(e){var a=e.id,n=e.year;return{id:a,isHighlighted:Object(f.a)(parseInt(n),parseInt(t))}}})),B=C.searchInput,M=C.setSearchInput,E=H(r,(function(t){return function(e){var a=e.id,n=e.year;return{id:a,isHighlighted:Object(p.a)(parseInt(n),parseInt(t))}}})),A=E.searchInput,D=E.setSearchInput;return Object(V.jsxs)("div",{className:"coauthorship-graph-container",children:[Object(V.jsxs)("div",{className:"coauthorship-results",children:[Object(V.jsxs)("div",{className:"coauthorship-filter-container",children:[Object(V.jsx)(R,{placeholder:"Search by author",className:"coauthorship-search",value:x,setValue:g}),Object(V.jsx)(R,{className:"coauthorship-search mt-2",placeholder:"Search by number of citations",value:y,setValue:k}),Object(V.jsx)(R,{className:"coauthorship-search mt-2",placeholder:"Search by year",value:S,setValue:I}),Object(V.jsx)(R,{className:"coauthorship-search mt-2",placeholder:"Year from",value:B,setValue:M}),Object(V.jsx)(R,{className:"coauthorship-search mt-2",placeholder:"Year to",value:A,setValue:D})]}),O?Object(V.jsxs)("div",{className:"author-info",children:[Object(V.jsx)("div",{className:"author-info-title",children:O.title}),Object(V.jsxs)("div",{className:"author-info-subtitle",children:["Year: ",O.year]}),Object(V.jsxs)("div",{className:"author-info-2nd-subtitle",children:["Cited by: ",O.citedBy," ",1===O.citedBy?"paper":"papers"]}),Object(V.jsxs)("div",{className:"author-list",children:[Object(V.jsx)("b",{children:"Authors:"})," ",O.authorNames.join(", ")]}),Object(V.jsxs)("div",{className:"author-list mt-2",children:[Object(V.jsx)("b",{children:"Keywords:"})," ",0!==O.keywords.length?O.keywords.join(", "):"No keywords found!"]})]}):Object(V.jsxs)("div",{className:"item",children:[Object(V.jsx)("div",{className:"item-title",children:"No coauthorship node selected."}),Object(V.jsx)("div",{className:"item-subtitle",children:"Click on a red node to view more information."})]})]}),Object(V.jsx)("div",{className:"viz-container",children:Object(V.jsx)(J,{data:r,setSelectedNode:m})})]})},W=a(156),X=a(157),Z=a(163),Q=a(9),U=a(158),$=800,tt=700,et=["#CCCCCC","blue"],at=["#ff4a4a","#ad0303"],nt=[2.5,12],ct=[1,8],rt=function(t,e){return function(a){return g.i().domain(t).range(e)(a)}};function it(t){var e,a,c=t.data,r=t.setSelectedNode,i=g.k("svg#coauthorshipGraph"),s=Object(n.useState)([]),o=Object(j.a)(s,2),l=o[0],h=o[1],d=Object(n.useState)([]),b=Object(j.a)(d,2),f=b[0],p=b[1],O=Object(n.useMemo)((function(){return g.a(Object(W.a)(Object(Z.a)({},["coauthorships"],c)),(function(t){return(t.papers||[]).length}))}),[c]);console.log(O);var N=Object(n.useMemo)((function(){return g.a(Object(W.a)(Object(Z.a)({},["authors"],c)),(function(t){return t.papersCount}))}),[c]),k=Object(n.useRef)(null),I=Object(n.useCallback)(Object(x.a)(m.a.mark((function t(){var e,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c&&Object(Q.a)(c).length&&(e=Object(w.a)((function(t){return t}),(function(t){return Object(W.a)(t)}),Object(X.a)((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{id:e})})))(c.authors),a=Object(w.a)(Object(U.a)((function(t,e){return(e.papers||[]).length-(t.papers||[]).length})),Object(S.a)((function(t){return Object(u.a)(Object(u.a)({},t),{},{source:t.firstAuthor,target:t.secondAuthor})})),(function(t){return Object(W.a)(t)}))(c.coauthorships),p(e),h(a));case 1:case"end":return t.stop()}}),t)}))),[p,h,c]);Object(n.useEffect)((function(){I()}),[I]);var C=(e=i.selectAll("line").data(l)).join.apply(e,Object(v.a)(M("line"))).style("stroke",(function(t){return E(O,et)((t.papers||[]).length)})).attr("stroke-width",(function(t){return g.i(O,ct)((t.papers||[]).length)})).lower(),A=(a=i.selectAll("circle").data(f)).join.apply(a,Object(v.a)(M("circle"))).attr("r",(function(t){return rt(N,nt)(t.papersCount)})).attr("id",(function(t){return t.id})).attr("stroke","transparent").attr("stroke-width",3).attr("cursor","pointer").style("fill",(function(t){return E(N,at)(t.papersCount)})).on("click",(function(t,e){var a=e.forename,n=e.surname,c=e.papers;c=c.map((function(t){var e=t.authors,a=t.title;return{authorNames:e.map((function(t){return"".concat(t.forename,". ").concat(t.surname)})),title:a}})),r({fullName:"".concat(a,". ").concat(n),papers:c})}));return Object(n.useEffect)((function(){k.current=g.g().alphaDecay(.015).force("charge",g.e().distanceMin(20).distanceMax(200).strength((function(t){return t.papersCount>=4?-10:-40}))).force("center",g.b().x(400).y(350)).force("link",g.d().id(Object(y.a)("id")).distance((function(t){return g.i(O,[20,70])(t.papers.length)})).strength(.35)).force("collision",g.c((function(t){return(e=N,a=nt,function(t){return rt(e,a)(t)>=4?5*rt(e,a)(t):2.5*rt(e,a)(t)})(t.papersCount);var e,a})).strength(.5)).force("r",g.f((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[600,240,120,30,1],a=Object(j.a)(t,2),n=a[0],c=a[1],r=(c-n)/4,i=[n,n+r,n+2*r,n+3*r,c];return g.j().range(e).domain(i)}(N)(t.papersCount)})).x(400).y(350).strength(.8)),k.current.nodes(f).on("tick",B(A,C,$,tt)),k.current.force("link").links(l)}),[f,l,i,O,N,r,A,C]),Object(V.jsx)("svg",{className:"coauthorship-graph",id:"coauthorshipGraph",width:$,height:tt,viewBox:"".concat(-400," ").concat(-350," ").concat(-800," ").concat(-700)})}var st=Object(n.memo)(it);var ot=function(){var t=G("authorData.json"),e=Object(j.a)(t,1)[0],a=Object(n.useState)(void 0),c=Object(j.a)(a,2),r=c[0],i=c[1],s=Object(n.useMemo)((function(){return Object(w.a)((function(t){return t}),(function(t){return Object(W.a)(t)}),Object(X.a)((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{id:e})})))(e.authors)}),[e]),o=Object(n.useCallback)((function(t){return function(e){var a=e.id,n=e.forename,c=e.surname,r=Object(h.a)("".concat(n," ").concat(c));return{id:a,isHighlighted:Object(d.a)(t,r)}}}),[]),l=H(s,o),b=l.searchInput,f=l.setSearchInput;return Object(V.jsxs)("div",{className:"coauthorship-graph-container",children:[Object(V.jsxs)("div",{className:"coauthorship-results",children:[Object(V.jsx)("div",{className:"coauthorship-filter-container",children:Object(V.jsx)(R,{placeholder:"Search by author",className:"coauthorship-search",value:b,setValue:f})}),r?Object(V.jsxs)("div",{className:"author-info",children:[Object(V.jsx)("div",{className:"author-info-title",children:r.fullName}),Object(V.jsxs)("div",{className:"author-info-subtitle",children:[(r.papers||[]).length," Paper",1===(r.papers||[]).length?"":"s"]}),Object(V.jsx)("div",{className:"author-info-list",children:r.papers.map((function(t,e){return Object(V.jsxs)("div",{className:"author-info-list-item",children:[Object(V.jsx)("div",{className:"author-info-list-item-title",children:t.title}),Object(V.jsx)("div",{className:"author-info-list-item-subtitle",children:t.authorNames.join(", ")})]},e)}))})]}):Object(V.jsxs)("div",{className:"item",children:[Object(V.jsx)("div",{className:"item-title",children:"No coauthorship node selected."}),Object(V.jsx)("div",{className:"item-subtitle",children:"Click on a red node to view more information."})]})]}),Object(V.jsx)("div",{className:"viz-container",children:Object(V.jsx)(st,{data:e,setSelectedNode:i})})]})};var ut=function(t){return Object(V.jsx)(s.b,{to:t.to,children:Object(V.jsxs)("div",{className:"card",children:[Object(V.jsx)("div",{className:"card-img",style:{backgroundImage:"url(".concat(t.bannerImage,")")}}),Object(V.jsxs)("div",{className:"card-body",children:[Object(V.jsx)("div",{className:"card-title",children:t.title}),Object(V.jsx)("div",{className:"card-subtitle",children:t.subtitle})]})]})})};var lt=function(){return Object(V.jsxs)("div",{className:"card-container",children:[Object(V.jsx)(ut,{title:"Citation graph",subtitle:"Graph displaying number of citations",bannerImage:"citationGraphBanner.png",to:"/citation"}),Object(V.jsx)(ut,{title:"Co-authorship graph",subtitle:"Graph display number of coauthorships",bannerImage:"coAuthorshipGraphBanner.png",to:"/coauthorship"})]})};var jt=function(){var t=Object(n.useMemo)((function(){return"#/coauthorship"===window.location.hash?"Coauthorship viz":"Publications viz"}),[]);return Object(V.jsxs)("nav",{className:"navbar",children:[Object(V.jsx)("span",{className:"navbar-title",children:t}),Object(V.jsx)("span",{className:"navbar-subtitle",children:" Nika \u010ci\u0107, Yaryna Korduba "})]})};a(148);var ht=function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("main",{className:"app",children:Object(V.jsx)(s.a,{children:Object(V.jsxs)(o.c,{children:[Object(V.jsx)(o.a,{path:"/",element:Object(V.jsx)(lt,{})}),Object(V.jsx)(o.a,{path:"/citation/",element:Object(V.jsx)(q,{})}),Object(V.jsx)(o.a,{path:"/coauthorship/",element:Object(V.jsx)(ot,{})})]})})}),Object(V.jsx)(jt,{})]})},dt=(a(149),function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,165)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),n(t),c(t),r(t),i(t)}))});i.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(ht,{})}),document.getElementById("root")),dt()},56:function(t,e,a){}},[[150,1,2]]]);
//# sourceMappingURL=main.91fdc576.chunk.js.map